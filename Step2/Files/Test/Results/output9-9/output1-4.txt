********************************  NODE 1  *******************************
public class WorkThread extends Thread {
  public WorkThread(  WorkThreadPool pool,  ThreadGroup group,  String name){
    super(group,name);
    setPriority(Thread.MIN_PRIORITY);
    this.pool=pool;
  }
  public void setAbortable(  boolean abortable){
synchronized (abortLock) {
      this.abortable=abortable;
      if (aborted)       stop(new Abort());
    }
  }
  public boolean isRequestRunning(){
    return requestRunning;
  }
  public String getStatus(){
    return status;
  }
  public void setStatus(  String status){
    this.status=status;
    pool.fireProgressChanged(this);
  }
  public int getProgressValue(){
    return progressValue;
  }
  public void setProgressValue(  int progressValue){
    this.progressValue=progressValue;
    pool.fireProgressChanged(this);
  }
  public int getProgressMaximum(){
    return progressMaximum;
  }
  public void setProgressMaximum(  int progressMaximum){
    this.progressMaximum=progressMaximum;
    pool.fireProgressChanged(this);
  }
  public void abortCurrentRequest(){
synchronized (abortLock) {
      if (abortable && !aborted)       stop(new Abort());
      aborted=true;
    }
  }
  public void run(){
    for (; ; ) {
      doRequests();
    }
  }
  private WorkThreadPool pool;
  private Object abortLock=new Object();
  private boolean requestRunning;
  private boolean abortable;
  private boolean aborted;
  private String status;
  private int progressValue;
  private int progressMaximum;
  private void doRequests(){
    WorkThreadPool.Request request;
    for (; ; ) {
      request=pool.getNextRequest();
      if (request == null)       break;
 else {
        requestRunning=true;
        pool.fireStatusChanged(this);
        doRequest(request);
        requestRunning=false;
      }
    }
    pool.fireStatusChanged(this);
synchronized (pool.waitForAllLock) {
      pool.waitForAllLock.notifyAll();
    }
synchronized (pool.lock) {
      try {
        pool.lock.wait();
      }
 catch (      InterruptedException ie) {
      }
    }
  }
  private void doRequest(  WorkThreadPool.Request request){
    try {
      request.run.run();
    }
 catch (    Abort a) {
    }
catch (    Throwable t) {
      Log.log(Log.ERROR,WorkThread.class,t);
    }
 finally {
synchronized (abortLock) {
        aborted=abortable=false;
      }
      status=null;
      progressValue=progressMaximum=0;
      pool.requestDone();
      pool.fireStatusChanged(this);
    }
  }
public static class Abort extends Error {
    public Abort(){
      super("Work request aborted");
    }
  }
}
********************************  NODE 2  *******************************
public class WorkThread extends Thread {
  public WorkThread(  WorkThreadPool pool,  ThreadGroup group,  String name){
    super(group,name);
    setPriority(Thread.MIN_PRIORITY);
    this.pool=pool;
  }
  public void setAbortable(  boolean abortable){
synchronized (abortLock) {
      this.abortable=abortable;
      if (aborted)       stop(new Abort());
    }
  }
  public boolean isRequestRunning(){
    return requestRunning;
  }
  public String getStatus(){
    return status;
  }
  public void setStatus(  String status){
    this.status=status;
    pool.fireProgressChanged(this);
  }
  public int getProgressValue(){
    return progressValue;
  }
  public void setProgressValue(  int progressValue){
    this.progressValue=progressValue;
    pool.fireProgressChanged(this);
  }
  public int getProgressMaximum(){
    return progressMaximum;
  }
  public void setProgressMaximum(  int progressMaximum){
    this.progressMaximum=progressMaximum;
    pool.fireProgressChanged(this);
  }
  public void abortCurrentRequest(){
synchronized (abortLock) {
      if (abortable && !aborted)       stop(new Abort());
      aborted=true;
    }
  }
  public void run(){
    for (; ; ) {
      doRequests();
    }
  }
  private WorkThreadPool pool;
  private Object abortLock=new Object();
  private boolean requestRunning;
  private boolean abortable;
  private boolean aborted;
  private String status;
  private int progressValue;
  private int progressMaximum;
  private void doRequests(){
    WorkThreadPool.Request request;
    for (; ; ) {
      request=pool.getNextRequest();
      if (request == null)       break;
 else {
        requestRunning=true;
        pool.fireStatusChanged(this);
        doRequest(request);
        requestRunning=false;
      }
    }
    pool.fireStatusChanged(this);
synchronized (pool.waitForAllLock) {
      pool.waitForAllLock.notifyAll();
    }
synchronized (pool.lock) {
      try {
        pool.lock.wait();
      }
 catch (      InterruptedException ie) {
      }
    }
  }
  private void doRequest(  WorkThreadPool.Request request){
    try {
      request.run.run();
    }
 catch (    Abort a) {
    }
catch (    Throwable t) {
      Log.log(Log.ERROR,WorkThread.class,"Exception " + "in work thread:");
    }
 finally {
synchronized (abortLock) {
        aborted=abortable=false;
      }
      status=null;
      progressValue=progressMaximum=0;
      pool.requestDone();
      pool.fireStatusChanged(this);
    }
  }
public static class Abort extends Error {
    public Abort(){
      super("Work request aborted");
    }
  }
}
*****************************  ANTIUNIFIER  ****************************
TYPES[MODIFIERS[KEYWORD[public]] ; INTERFACE[false] ; NAME[IDENTIFIER[WorkThread]] ; SUPERCLASSTYPE[NAME[IDENTIFIER[Thread]]] ; BODYDECLARATIONS[MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[true] ; NAME[IDENTIFIER[WorkThread]] ; PARAMETERS[TYPE[NAME[IDENTIFIER[WorkThreadPool]]] ; VARARGS[false] ; NAME[IDENTIFIER[pool]] ; EXTRADIMENSIONS[0], TYPE[NAME[IDENTIFIER[ThreadGroup]]] ; VARARGS[false] ; NAME[IDENTIFIER[group]] ; EXTRADIMENSIONS[0], TYPE[NAME[IDENTIFIER[String]]] ; VARARGS[false] ; NAME[IDENTIFIER[name]] ; EXTRADIMENSIONS[0]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[ARGUMENTS[IDENTIFIER[group], IDENTIFIER[name]], EXPRESSION[NAME[IDENTIFIER[setPriority]] ; ARGUMENTS[QUALIFIER[IDENTIFIER[Thread]] ; NAME[IDENTIFIER[MIN_PRIORITY]]]], EXPRESSION[LEFTHANDSIDE[NAME[IDENTIFIER[pool]]] ; OPERATOR[=] ; RIGHTHANDSIDE[IDENTIFIER[pool]]]]], MODIFIERS[KEYWORD[public], KEYWORD[static]] ; INTERFACE[false] ; NAME[IDENTIFIER[Abort]] ; SUPERCLASSTYPE[NAME[IDENTIFIER[Error]]] ; BODYDECLARATIONS[MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[true] ; NAME[IDENTIFIER[Abort]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[ARGUMENTS[ESCAPEDVALUE["Work request aborted"]]]]], MODIFIERS[KEYWORD[private]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[doRequest]] ; PARAMETERS[TYPE[NAME[QUALIFIER[IDENTIFIER[WorkThreadPool]] ; NAME[IDENTIFIER[Request]]]] ; VARARGS[false] ; NAME[IDENTIFIER[request]] ; EXTRADIMENSIONS[0]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[BODY[STATEMENTS[EXPRESSION[EXPRESSION[QUALIFIER[IDENTIFIER[request]] ; NAME[IDENTIFIER[run]]] ; NAME[IDENTIFIER[run]] ; ]]] ; CATCHCLAUSES[EXCEPTION[TYPE[NAME[IDENTIFIER[Throwable]]] ; VARARGS[false] ; NAME[IDENTIFIER[t]] ; EXTRADIMENSIONS[0]] ; BODY[STATEMENTS[EXPRESSION[EXPRESSION[IDENTIFIER[Log]] ; NAME[IDENTIFIER[log]] ; ARGUMENTS[LEFTOPERAND-OR-NIL[ESCAPEDVALUE-OR-NIL["Exception "-or-nil]] ; OPERATOR-OR-NIL[+-or-nil] ; RIGHTOPERAND-OR-NIL[ESCAPEDVALUE-OR-NIL["in work thread:"-or-nil]] ; , IDENTIFIER-OR-NIL[t-or-nil], QUALIFIER[IDENTIFIER[Log]] ; NAME[IDENTIFIER[ERROR]], TYPE[NAME[IDENTIFIER[WorkThread]]]]]]], EXCEPTION[TYPE[NAME[IDENTIFIER[Abort]]] ; VARARGS[false] ; NAME[IDENTIFIER[a]] ; EXTRADIMENSIONS[0]] ; ] ; FINALLY[STATEMENTS[EXPRESSION[IDENTIFIER[abortLock]] ; BODY[STATEMENTS[EXPRESSION[LEFTHANDSIDE[IDENTIFIER[aborted]] ; OPERATOR[=] ; RIGHTHANDSIDE[LEFTHANDSIDE[IDENTIFIER[abortable]] ; OPERATOR[=] ; RIGHTHANDSIDE[BOOLEANVALUE[false]]]]]], EXPRESSION[LEFTHANDSIDE[IDENTIFIER[progressValue]] ; OPERATOR[=] ; RIGHTHANDSIDE[LEFTHANDSIDE[IDENTIFIER[progressMaximum]] ; OPERATOR[=] ; RIGHTHANDSIDE[TOKEN[0]]]], EXPRESSION[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[fireStatusChanged]] ; ], EXPRESSION[LEFTHANDSIDE[IDENTIFIER[status]] ; OPERATOR[=] ; ], EXPRESSION[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[requestDone]] ; ]]]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[setAbortable]] ; PARAMETERS[TYPE[PRIMITIVETYPECODE[boolean]] ; VARARGS[false] ; NAME[IDENTIFIER[abortable]] ; EXTRADIMENSIONS[0]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[IDENTIFIER[abortLock]] ; BODY[STATEMENTS[EXPRESSION[IDENTIFIER[aborted]] ; THENSTATEMENT[EXPRESSION[NAME[IDENTIFIER[stop]] ; ARGUMENTS[TYPE[NAME[IDENTIFIER[Abort]]] ; ]]], EXPRESSION[LEFTHANDSIDE[NAME[IDENTIFIER[abortable]]] ; OPERATOR[=] ; RIGHTHANDSIDE[IDENTIFIER[abortable]]]]]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[setStatus]] ; PARAMETERS[TYPE[NAME[IDENTIFIER[String]]] ; VARARGS[false] ; NAME[IDENTIFIER[status]] ; EXTRADIMENSIONS[0]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[LEFTHANDSIDE[NAME[IDENTIFIER[status]]] ; OPERATOR[=] ; RIGHTHANDSIDE[IDENTIFIER[status]]], EXPRESSION[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[fireProgressChanged]] ; ]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[setProgressValue]] ; PARAMETERS[TYPE[PRIMITIVETYPECODE[int]] ; VARARGS[false] ; NAME[IDENTIFIER[progressValue]] ; EXTRADIMENSIONS[0]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[LEFTHANDSIDE[NAME[IDENTIFIER[progressValue]]] ; OPERATOR[=] ; RIGHTHANDSIDE[IDENTIFIER[progressValue]]], EXPRESSION[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[fireProgressChanged]] ; ]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[setProgressMaximum]] ; PARAMETERS[TYPE[PRIMITIVETYPECODE[int]] ; VARARGS[false] ; NAME[IDENTIFIER[progressMaximum]] ; EXTRADIMENSIONS[0]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[LEFTHANDSIDE[NAME[IDENTIFIER[progressMaximum]]] ; OPERATOR[=] ; RIGHTHANDSIDE[IDENTIFIER[progressMaximum]]], EXPRESSION[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[fireProgressChanged]] ; ]]], MODIFIERS[KEYWORD[private]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[doRequests]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[TYPE[NAME[QUALIFIER[IDENTIFIER[WorkThreadPool]] ; NAME[IDENTIFIER[Request]]]] ; FRAGMENTS[NAME[IDENTIFIER[request]] ; EXTRADIMENSIONS[0]], BODY[STATEMENTS[EXPRESSION[LEFTOPERAND[IDENTIFIER[request]] ; OPERATOR[==] ; ] ; ELSESTATEMENT[STATEMENTS[EXPRESSION[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[fireStatusChanged]] ; ], EXPRESSION[LEFTHANDSIDE[IDENTIFIER[requestRunning]] ; OPERATOR[=] ; RIGHTHANDSIDE[BOOLEANVALUE[true]]], EXPRESSION[NAME[IDENTIFIER[doRequest]] ; ARGUMENTS[IDENTIFIER[request]]], EXPRESSION[LEFTHANDSIDE[IDENTIFIER[requestRunning]] ; OPERATOR[=] ; RIGHTHANDSIDE[BOOLEANVALUE[false]]]]], EXPRESSION[LEFTHANDSIDE[IDENTIFIER[request]] ; OPERATOR[=] ; RIGHTHANDSIDE[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[getNextRequest]] ; ]]]], EXPRESSION[QUALIFIER[IDENTIFIER[pool]] ; NAME[IDENTIFIER[lock]]] ; BODY[STATEMENTS[BODY[STATEMENTS[EXPRESSION[EXPRESSION[QUALIFIER[IDENTIFIER[pool]] ; NAME[IDENTIFIER[lock]]] ; NAME[IDENTIFIER[wait]] ; ]]] ; CATCHCLAUSES[EXCEPTION[TYPE[NAME[IDENTIFIER[InterruptedException]]] ; VARARGS[false] ; NAME[IDENTIFIER[ie]] ; EXTRADIMENSIONS[0]] ; ]]], EXPRESSION[QUALIFIER[IDENTIFIER[pool]] ; NAME[IDENTIFIER[waitForAllLock]]] ; BODY[STATEMENTS[EXPRESSION[EXPRESSION[QUALIFIER[IDENTIFIER[pool]] ; NAME[IDENTIFIER[waitForAllLock]]] ; NAME[IDENTIFIER[notifyAll]] ; ]]], EXPRESSION[EXPRESSION[IDENTIFIER[pool]] ; NAME[IDENTIFIER[fireStatusChanged]] ; ]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[abortCurrentRequest]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[IDENTIFIER[abortLock]] ; BODY[STATEMENTS[EXPRESSION[LEFTOPERAND[IDENTIFIER[abortable]] ; OPERATOR[&&] ; RIGHTOPERAND[OPERATOR[!] ; OPERAND[IDENTIFIER[aborted]]] ; ] ; THENSTATEMENT[EXPRESSION[NAME[IDENTIFIER[stop]] ; ARGUMENTS[TYPE[NAME[IDENTIFIER[Abort]]] ; ]]], EXPRESSION[LEFTHANDSIDE[IDENTIFIER[aborted]] ; OPERATOR[=] ; RIGHTHANDSIDE[BOOLEANVALUE[true]]]]]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[void]] ; NAME[IDENTIFIER[run]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[BODY[STATEMENTS[EXPRESSION[NAME[IDENTIFIER[doRequests]] ; ]]]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[NAME[IDENTIFIER[String]]] ; NAME[IDENTIFIER[getStatus]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[IDENTIFIER[status]]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[boolean]] ; NAME[IDENTIFIER[isRequestRunning]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[IDENTIFIER[requestRunning]]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[int]] ; NAME[IDENTIFIER[getProgressValue]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[IDENTIFIER[progressValue]]]], MODIFIERS[KEYWORD[public]] ; CONSTRUCTOR[false] ; RETURNTYPE2[PRIMITIVETYPECODE[int]] ; NAME[IDENTIFIER[getProgressMaximum]] ; EXTRADIMENSIONS[0] ; BODY[STATEMENTS[EXPRESSION[IDENTIFIER[progressMaximum]]]], MODIFIERS[KEYWORD[private]] ; TYPE[NAME[IDENTIFIER[Object]]] ; FRAGMENTS[NAME[IDENTIFIER[abortLock]] ; EXTRADIMENSIONS[0] ; INITIALIZER[TYPE[NAME[IDENTIFIER[Object]]] ; ]], MODIFIERS[KEYWORD[private]] ; TYPE[NAME[IDENTIFIER[WorkThreadPool]]] ; FRAGMENTS[NAME[IDENTIFIER[pool]] ; EXTRADIMENSIONS[0]], MODIFIERS[KEYWORD[private]] ; TYPE[NAME[IDENTIFIER[String]]] ; FRAGMENTS[NAME[IDENTIFIER[status]] ; EXTRADIMENSIONS[0]], MODIFIERS[KEYWORD[private]] ; TYPE[PRIMITIVETYPECODE[boolean]] ; FRAGMENTS[NAME[IDENTIFIER[requestRunning]] ; EXTRADIMENSIONS[0]], MODIFIERS[KEYWORD[private]] ; TYPE[PRIMITIVETYPECODE[boolean]] ; FRAGMENTS[NAME[IDENTIFIER[abortable]] ; EXTRADIMENSIONS[0]], MODIFIERS[KEYWORD[private]] ; TYPE[PRIMITIVETYPECODE[boolean]] ; FRAGMENTS[NAME[IDENTIFIER[aborted]] ; EXTRADIMENSIONS[0]], MODIFIERS[KEYWORD[private]] ; TYPE[PRIMITIVETYPECODE[int]] ; FRAGMENTS[NAME[IDENTIFIER[progressValue]] ; EXTRADIMENSIONS[0]], MODIFIERS[KEYWORD[private]] ; TYPE[PRIMITIVETYPECODE[int]] ; FRAGMENTS[NAME[IDENTIFIER[progressMaximum]] ; EXTRADIMENSIONS[0]]]]
****************************** SIMILARITY *****************************
0.9936908517350158